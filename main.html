<!DOCTYPE html>
<html>
<head>
	<title>IoT Project 2018</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" href="./logo/iot_logo.png">
	<script type="text/javascript" src="./login/iot-user.js"></script>
	<script type="text/javascript" src="./js/mqttws31.js"></script>
	<script type="text/javascript" src="./js/connect-event.js"></script>

	<link rel="stylesheet" type="text/css" href="./css/message.css">
	<link rel="stylesheet" type="text/css" href="./css/header-bar.css">
	<link rel="stylesheet" type="text/css" href="./css/table-control.css">
	<link rel="stylesheet" type="text/css" href="./css/link-effect.css">
	<link rel="stylesheet" type="text/css" href="./css/tooltip.css">
	<link rel="stylesheet" type="text/css" href="./css/checkbox.css">
</head>


<script type="text/javascript">
	function iot_onload() {
		$("topic_subscribe").value = "ESP8266_SEND";
		$("topic_publish").value = "ESP8266_RECEIVE";
		
		return ;
	    if (iot_is_login() === false) {
	        window.location.href = "./login/index.html";
	    }
	}

	if (window.addEventListener)
	{
	    window.addEventListener("load", iot_onload, false);
	}
	else if (window.attachEvent)
	{
	    window.attachEvent("onload", iot_onload);
	}
	else 
	{
		window.onload = iot_onload;
	}
</script>

<style type="text/css">
	body, html {
	  /*height: 100%;*/
	  margin: 0;
	  font: 400 15px/1.8 "Lato", sans-serif;
	  color: #777;
	  background: #FFFFFF;
	  -webkit-text-size-adjust:none;
	}

	.fb-widget {
		text-align: center;
	    margin: 0 auto;
	    display: block!important;
	    z-index: 0;
	}

	h1, h2, h3, h4 {
		margin-bottom: 5px!important;
		margin-top: 5px!important;
	}
</style>


<!--- Body website -->
<body>
<div id="fb-root"></div>
	<script>
		/*Script for Facebook plugin*/
		(function(d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) return;
			js = d.createElement(s); js.id = id;
			js.src = 'https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v2.12&appId=280256195786686&autoLogAppEvents=1';
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	</script>


	<div class="header-bar">
		<button id="header-home" title="Trang chủ">Trang chủ</button>
		<button id="header-idea" title="Ý tưởng">Ý tưởng</button>
		<button id="header-product" title="Sản phẩm">Sản phẩm</button>
		<button id="header-connect" title="Kết nối"> Kết nối</button>
		<button id="header-control" title="Điều khiển"> Điều khiển</button>
		<button id="header-user" title="Đăng xuất khỏi hệ thống"> user.admin</button>
	</div>

	<!--- home Tab -->
	<div id="home" class="main-tab-content">
		<div class="background-test">
		  	<div class="background-caption">
			    <span class="border">HỘI THI</span><br>
			    <span class="border">THIẾT KẾ MẠCH</span><br>
			    <span class="sub-border">Chủ đề: "INTERNET OF THINGS"</span>
			</div>
		</div>
		<div style="padding-top: 600px;"></div>
		<img src="./image/logo_tcu.png" style="margin: 30px auto; display: block; padding-top: 30px;">
		<div style="text-align: center; margin-top: 50px;">
			<div style="font-size: 24px;">Sản phẩm dự thi Thiết kế mạch</div>
			<div style="font-size: 16px; font-style: italic;">Tên sản phẩm: "Hệ thống điểu khiển và giám sát thiết bị điện"</div>
			<div style="font-size: 16px;">Đơn vị: Đại đội 1, Tiểu đoàn 26</div>
		</div>
		<div style="margin-top: 400px;"> </div>
		<h2 style="text-align: center;">Phản hồi</h2>
		<!-- register event -->
		<script type="text/javascript" src="./js/header-event.js"></script>
		<div class="fb-comments fb-widget" data-href="https://hercules2404.github.io/IoT" data-numposts="10" data-width="800" data-order-by="reverse_time"></div>
	</div>

	<!--- Idea Tab -->
	<div id="idea" class="main-tab-content">
		<div style="padding: 25px 25px;">This is idea page
		</div>
	</div>

	<!--- Product Tab -->
	<div id="product" class="main-tab-content">
		<div style="padding: 25px 25px;"></div>
		<div align="center" style="margin-bottom: 20px">Source of IoT project is available on <a href="https://github.com/Hercules2404/IoT">GitHub</a>.</div>
	</div>

	<!--- CONNECT Tab -->
	<div id="connect" class="main-tab-content" style="margin-left: 10px; margin-right: 10px;">
		<h2> I. Kết nối</h2>
		<div>
			<h4>Bước 1: Kết nối đến MQTT Broker....</h4>
			<table>
				<tr>
					<td>Topic subscribe:</td>
					<td><div class="topic-input"> <input type="input" id="topic_subscribe" placeholder="Topic Subscribe" title="Topic đăng kí nhận tín hiệu từ ESP8266"></div></td>
				</tr>
				<tr>
					<td>Topic publish:</td>
					<td><div class="topic-input"> <input type="input" id="topic_publish" placeholder="Topic Publish" title="Topic gửi tín hiệu đến ESP8266"></div></td>
				</tr>
			</table>
			
			<button id="btn_connect_server" class="btn btn-large" title="Kết nối đến máy chủ MQTT thông qua giao thức WebSocket.io">Kết nối MQTT</button>
		</div>

		<div>
			<h4>Bước 2: Kết nối đến thiết bị IoT...</h4>
			<button id="btn_connect_esp8266" class="btn btn-large" title="Gửi lệnh kết nối đến thiết bị điều khiển bằng web">Kết nối ESP8266</button>
		</div>

		<div>
			<h4>Bước 3: Kiểm tra tình trạng hoạt động của thiết bị.</h4>
			<button id="btn_device_test" class="btn btn-large" title="Kiểm tra tình trạng hoạt động của thiết bị">Kiểm tra thiết bị</button>
		</div>


		<div style="padding-top: 30px;"></div>
		<h2> II. Bảng hoạt động của hệ thống</h2>
	    <label class="control control--checkbox">Auto-scroll down when having messages. 
	      <input type="checkbox" checked="checked" id="checkbox-message-scrolldown" />
	      <div class="control__indicator"></div>
	    </label>
		<div class="message">
			<div class="message-body" id="message-body"></div>
			<div class="message-control">
				<input type="text" id="message_command" placeholder="Lệnh điều khiển"></input>
				<input type="text" id="message_command_value" placeholder="Nội dung lệnh (không bắt buộc)"></input>
				
				<button id="btn_message_send" title="Gửi tín hiệu điều khiển">Command</button>
				<script type="text/javascript" src="./js/message.js"></script>
			</div>
		</div>


		<div style="padding-top: 30px;"></div>
		<h2> III. Danh sách các lệnh điều khiển</h2>
		
		<div style="padding-bottom: 100px;"></div>
		<script type="text/javascript">
			// Control Click event listener
			$("btn_connect_server").onclick = btn_server;
			$("btn_connect_esp8266").onclick = esp8266_device;
			$("btn_message_send").onclick = message_send;
			$("btn_device_test").onclick = esp8266_testing_device;
		</script>
	</div>

	<!--- Control Tab -->
	<div id="control" class="main-tab-content">
		<div class="table-control">
		  <table align="center">
		    <caption>Bảng điểu khiển</caption>
		  <tr>
		    <th width="10%">STT</th>
		    <th width="40%">Tên thiết bị</th>
		    <th width="20%">Trạng thái</th>
		    <th width="30%">Ghi chú</th>
		  </tr>
		  <tr>
		    <td>1</td>
		    <td>Maria Anders</td>
		    <td>
		      <div class="slider">
		        <input type="checkbox" id="slider_1" onclick="slider(1)">
		        <label for="slider_1">
		      </div>
		    </td>
		    <td>...</td>
		  </tr>
		  <tr>
		    <td>2</td>
		    <td>Francisco Chang</td>
		    <td>
		      <div class="slider">
		        <input type="checkbox" id="slider_2" onclick="slider(2)">
		        <label for="slider_2">
		      </div>
		    </td>
		    <td>...</td>
		  </tr>
		  <tr>
		    <td>3</td>
		    <td>Roland Mendel</td>
		    <td>
		      <div class="slider">
		        <input type="checkbox" id="slider_3" onclick="slider(3)">
		        <label for="slider_3">
		      </div>
		    </td>
		    <td>...</td>
		  </tr>
		  <tr>
		    <td>4</td>
		    <td>Helen Bennett</td>
		    <td>
		      <div class="slider">
		        <input type="checkbox" id="slider_4" onclick="slider(4)">
		        <label for="slider_4">
		      </div>
		    </td>
		    <td>...</td>
		  </tr>
		  <tr>
		    <td>5</td>
		    <td>Yoshi Tannamuri</td>
		    <td>
		      <div class="slider">
		        <input type="checkbox" id="slider_5" onclick="slider(5)">
		        <label for="slider_5">
		      </div>
		    </td>
		    <td>...</td>
		  </tr>
		  <tr>
		    <td>6</td>
		    <td>Giovanni Rovelli</td>
		    <td>
		      <div class="slider">
		        <input type="checkbox" id="slider_6" onclick="slider(6)">
		        <label for="slider_6">
		      </div>
		    </td>
		    <td>...</td>
		  </tr>
		</table>
		</div>
		<div style="margin-top: 30px;"></div>
	</div>
	
	<div style="text-align: center; margin-top: 15px; margin-bottom: 15px; font-size: 14px;">This website is deployed in Feburary, 2018 for IoT project.
		<div class="link-effect">More information: <a href="mailto:ducduc08@gmail.com">email address</a></div>
	</div>
</body>
</html>